<!DOCTYPE html>
<html>

<head>
	<link href="style.css" rel="stylesheet">
	<script src="fmt.js"></script>
</head>

<body>
	<script>
		function appendChildren(list) {
			list.forEach(([parent, child]) => parent.appendChild(child))
		};
		async function ifFile(file) {
			try {
				const response = await fetch(file);
				return response.ok
			} catch {
				return false
			}
		};
		const list = document.createElement("ul");
		const conscripts = [
			["AbugidaR", "Abu;gi'da"],
			["AlphabetD", "A'lfubet"]
		];
		conscripts.forEach(([name, label], index) => {
			const item = document.createElement("li");
			const link = document.createElement("a");
			link.href = `${name}/index.html`;
			link.innerHTML = name;
			(async () => {
				if (!await ifFile(`${name}/index.html`)) {
					const m = `"${link.href}" does not exist`;
					link.style.textDecoration = "none";
					link.style.color = "#000"
					link.title = m;
					link.removeAttribute("href");
					link.innerHTML += `<span style="${[
						"font-size: 0.5em;",
						"vertical-align: top;"
					].join(" ")}">*`;
				}
			})();
			const ul = document.createElement("ul");
			const example = document.createElement("li");
			example.innerHTML = `${label}`;
			example.className = name;
			let appends = [];
			appends.push([item, link])
			appends.push([ul, example]);
			appends.push([item, ul]);
			appends.push([list, item]);
			appendChildren(appends);
		});
		const head = document.createElement("h1");
		head.innerHTML = "Scripts";
		appendChildren([
			[document.body, head],
			[document.body, list]
		]);
	</script>
</body>

</html>